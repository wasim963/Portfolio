// $dark: #171717; 
$dark: #0d1117;
$light: #e5e5e5; 

$themes: ( 
  dark: ( 
    bg: $dark, 
    text: $light, 
  ), 
  light: ( 
    bg: $light, 
    text: $dark, 
  ), 
);


$theme-map: null;
@mixin apply-theme { 

  @each $theme, $map in $themes {

    .theme--#{$theme} & { 

      $theme-map: () !global;

      @each $key, $submap in $map { 

        $value: map-get($map, $key); 

        $theme-map: map-merge( 
           $theme-map, 
            ( 
              $key: $value, 
            ) 
          ) !global; 
      } 

      @content; 
  
      $theme-map: null !global; 
    }
  }
}



@function getThemeValue($key) {
  @return map-get($theme-map, $key);
}